<mat-sidenav-container class="app-shell-container">
  <mat-sidenav
    [opened]="mobileQuery.matches ? 'false' : 'true'"
    #snav
    [mode]="mobileQuery.matches ? 'over' : 'side'"
    [fixedInViewport]="mobileQuery.matches"
  >
    <nav class="navigation">
      <a class="navigation--header">
        <picture>
          <img class="logo-img" src="/assets/svgs/logo.svg" title="HubMovies" alt="HubMovies" width="150" height="150"
               loading="lazy">
        </picture>
      </a>
      <h2 class="navigation--headline">Discover</h2>
      <a
        class="navigation--link"
        [routerLink]="['/movies', 'popular']"
        routerLinkActive="active"
        (click)="closeSidenav(); resetPagination()"
      >
        <div class="navigation--menu-item">
          <mat-icon class="navigation--menu-item-icon">favorite</mat-icon>
          Popular
        </div>
      </a>
      <a
        class="navigation--link"
        [routerLink]="['/movies', 'top_rated']"
        routerLinkActive="active"
        (click)="closeSidenav(); resetPagination()"
      >
        <div class="navigation--menu-item">
          <mat-icon class="navigation--menu-item-icon">whatshot</mat-icon>
          Top Rated
        </div>
      </a>
      <a
        class="navigation--link"
        [routerLink]="['/movies', 'upcoming']"
        routerLinkActive="active"
        (click)="closeSidenav(); resetPagination()"
      >
        <div class="navigation--menu-item">
          <mat-icon class="navigation--menu-item-icon">calendar_today</mat-icon>
          Upcoming
        </div>
      </a>
      <h2 class="navigation--headline">Genres</h2>
      <a
        *ngFor="let genre of genres$ | async; trackBy: trackByGenre"
        class="navigation--link"
        [routerLink]="['/movies', genre.name.toLowerCase()]"
        routerLinkActive="active"
        (click)="closeSidenav(); resetPagination()"
      >
        <div class="navigation--menu-item">
          <mat-icon class="navigation--menu-item-icon">radio_button_checked</mat-icon>
          {{ genre.name }}
        </div>
      </a>
      <picture class="tmdb-mark">
        <source srcset="/assets/svgs/tmdbgreen.svg" media="(prefers-color-scheme: dark)" class="jsx-172304178">
        <source srcset="/assets/svgs/tmdb.svg" media="(prefers-color-scheme: light)" class="jsx-172304178">
        <img width="300" height="118" alt="The Movie Database" src="" class="jsx-172304178">
      </picture>
    </nav>
  </mat-sidenav>
  <mat-sidenav-content>
    <div class="app-toolbar">
      <button class="app-toolbar--action" mat-icon-button (click)="snav.toggle()"
              *ngIf="mobileQuery.matches">
        <mat-icon>menu</mat-icon>
      </button>
      <div class="app-toolbar--widget-container">
        <mat-form-field appearance="filled"
                        [floatLabel]="'never'"
                        class="app-toolbar--widget-container-search">
          <mat-label>{{ 'App.Search movies' }}</mat-label>
          <mat-icon class="app-toolbar--widget-container-search-icon" matPrefix>search</mat-icon>
          <input
            matInput
            #search
            (keyup.enter)="searchMovie(search.value); search.value = ''"
            (keyup.enter)="closeSidenav()"
            tabindex="-1"
          />
        </mat-form-field>
        <a
          *ngIf="(authState.accountId$ | async) !== true"
          mat-icon-button
          title="sign in"
          (click)="authEffects.approveRequestToken()"
        >
          <mat-icon>input</mat-icon>
        </a>
        <a mat-icon-button
           title="sign out"
           *ngIf="authState.accountId$ | async"
           (click)="onSignOut()">
          <mat-icon>logout</mat-icon>
        </a>
        <a mat-icon-button
           *ngIf="authState.accountId$ | async"
           (click)="onSignOut()">
          <mat-icon>logout</mat-icon>
        </a>
      </div>
    </div>
    <ng-content></ng-content>
  </mat-sidenav-content>
</mat-sidenav-container>
<div id="btn-returnToTop">
  <button mat-mini-fab color="primary" (click)="scrollTop()">
    <mat-icon>arrow_upward</mat-icon>
  </button>
</div>
